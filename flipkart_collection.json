{
	"info": {
		"_postman_id": "b5df0434-1f5a-4c2a-b236-4820684374d6",
		"name": "Flipkart",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "50258610",
		"_collection_link": "https://srirahuln24bss056-9350294.postman.co/workspace/CHUMMA~f4df5583-c9cb-4134-be50-e5db40ca1b65/collection/50258610-b5df0434-1f5a-4c2a-b236-4820684374d6?action=share&source=collection_link&creator=50258610"
	},
	"item": [
		{
			"name": "GetAllProducts",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Passed One Valid Request\", function () {\r",
							"        pm.expect(pm.response.code).to.be.oneOf([201, 200]);\r",
							"    });\r",
							"\r",
							" pm.test(\"Response is an array\", function () {\r",
							"    pm.expect(pm.response.json()).to.be.an(\"array\");\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is under 1000ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
							"});\r",
							"\r",
							"pm.test(\"Content-Type is JSON\", function () {\r",
							"    pm.response.to.have.header(\"Content-Type\");\r",
							"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\r",
							"});\r",
							"\r",
							"pm.test(\"Response is an array\", function () {\r",
							"    const json = pm.response.json();\r",
							"    pm.expect(json).to.be.an(\"array\");\r",
							"});\r",
							"\r",
							"pm.test(\"Each product id is a string\", function () {\r",
							"    const json = pm.response.json();\r",
							"    json.forEach(p => pm.expect(p.id).to.be.a(\"string\"));\r",
							"});\r",
							"\r",
							"pm.test(\"Each product stock is boolean\", function () {\r",
							"    const json = pm.response.json();\r",
							"    json.forEach(p => pm.expect(typeof p.stock).to.eql(\"boolean\"));\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is under 1000ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
							"});\r",
							"\r",
							"pm.test(\"Content-type is application/json\", () => {\r",
							"    pm.response.to.have.header(\"Content-type\", \"application/json\");\r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\"Server is exist\", () => {\r",
							"    pm.expect(pm.response.headers.get(\"Server\")).to.be.exist;\r",
							"});\r",
							"\r",
							"pm.test(\"CORS check\", () => {\r",
							"    let expectedCORS = [\r",
							"        'Access-Control-Allow-Headers',\r",
							"        'Access-Control-Allow-Methods',\r",
							"        'Access-Control-Allow-Origin'\r",
							"    ];\r",
							"    expectedCORS.forEach(h => {\r",
							"        pm.response.to.have.header(h);\r",
							"    });\r",
							"});\r",
							"\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{url}}/skasc/api/Flipkart",
					"host": [
						"{{url}}"
					],
					"path": [
						"skasc",
						"api",
						"Flipkart"
					]
				}
			},
			"response": []
		},
		{
			"name": "CreateProduct",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201 (Created)\", function () {\r",
							"    pm.response.to.have.status(201);\r",
							"});\r",
							"\r",
							"pm.test(\"Response has created product ID\", function () {\r",
							"    const json = pm.response.json();\r",
							"    pm.expect(json).to.have.property(\"id\");\r",
							"});\r",
							"pm.test(\"Successful POST request\", function () {\r",
							"    pm.expect(pm.response.code).to.be.oneOf([201, 202]);\r",
							"});\r",
							"\r",
							"pm.test(\"Status code is 201 or 200\", function () {\r",
							"    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\r",
							"});\r",
							"\r",
							"// 2) Response time < 1000ms\r",
							"pm.test(\"Response time is under 1000ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
							"});\r",
							"\r",
							"// 3) Response is object\r",
							"pm.test(\"Response is a product object\", function () {\r",
							"    const json = pm.response.json();\r",
							"    pm.expect(json).to.be.an(\"object\");\r",
							"});\r",
							"\r",
							"// 4) Created product has id\r",
							"pm.test(\"Created product has an id\", function () {\r",
							"    const json = pm.response.json();\r",
							"    pm.expect(json).to.have.property(\"id\");\r",
							"});\r",
							"\r",
							"// 5) Request body & response body match (for main fields)\r",
							"pm.test(\"Created product matches request body fields\", function () {\r",
							"    const req = JSON.parse(pm.request.body.raw);\r",
							"    const res = pm.response.json();\r",
							"    pm.expect(res.productName).to.eql(req.productName);\r",
							"    pm.expect(res.price).to.eql(req.price);\r",
							"    pm.expect(res.stock).to.eql(req.stock);\r",
							"    pm.expect(res.category).to.eql(req.category);\r",
							"});\r",
							"\r",
							"// 6) Save created id in collection variable (for later tests)\r",
							"pm.test(\"Store created product id\", function () {\r",
							"    const res = pm.response.json();\r",
							"    pm.collectionVariables.set(\"createdProductId\", res.id);\r",
							"});\r",
							"\r",
							"// 7) price looks numeric\r",
							"pm.test(\"Created price is numeric\", function () {\r",
							"    const res = pm.response.json();\r",
							"    const num = Number(res.price);\r",
							"    pm.expect(isNaN(num)).to.eql(false);\r",
							"});\r",
							"\r",
							"pm.test(\"Created stock is boolean\", function () {\r",
							"    const res = pm.response.json();\r",
							"    pm.expect(typeof res.stock).to.eql(\"boolean\");\r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\"Created category is non-empty string\", function () {\r",
							"    const res = pm.response.json();\r",
							"    pm.expect(res.category).to.be.a(\"string\");\r",
							"    pm.expect(res.category.length).to.be.above(0);\r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\" The Created productName must has at least 3 characters\", function () {\r",
							"    const res = pm.response.json();\r",
							"    pm.expect(res.productName.length).to.be.at.least(3);\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": " {\r\n        \"productName\": \"T-Shirt\",\r\n        \"price\": \"1770.00\",\r\n        \"stock\": false,\r\n        \"category\": \"clothing\",\r\n        \"id\": \"29\"\r\n    }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://692abead7615a15ff24d8f1f.mockapi.io/skasc/api/Flipkart",
					"protocol": "https",
					"host": [
						"692abead7615a15ff24d8f1f",
						"mockapi",
						"io"
					],
					"path": [
						"skasc",
						"api",
						"Flipkart"
					]
				}
			},
			"response": []
		},
		{
			"name": "update",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is under 1000ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
							"});\r",
							"\r",
							"pm.test(\"Response is a product object\", function () {\r",
							"    const json = pm.response.json();\r",
							"    pm.expect(json).to.be.an(\"object\");\r",
							"});\r",
							"\r",
							"pm.test(\"Updated product has all required keys\", function () {\r",
							"    const json = pm.response.json();\r",
							"    [\"productName\", \"price\", \"stock\", \"category\", \"id\"].forEach(k => {\r",
							"        pm.expect(json).to.have.property(k);\r",
							"    });\r",
							"});\r",
							"\r",
							"pm.test(\"Product id remains same after PUT\", function () {\r",
							"    const res = pm.response.json();\r",
							"    const urlId = pm.request.url.path[pm.request.url.path.length - 1];\r",
							"    pm.expect(res.id).to.eql(urlId);\r",
							"});\r",
							"\r",
							"pm.test(\"PUT: response fields match request body\", function () {\r",
							"    const req = JSON.parse(pm.request.body.raw);\r",
							"    const res = pm.response.json();\r",
							"    pm.expect(res.productName).to.eql(req.productName);\r",
							"    pm.expect(res.price).to.eql(req.price);\r",
							"    pm.expect(res.stock).to.eql(req.stock);\r",
							"    pm.expect(res.category).to.eql(req.category);\r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\"Updated price numeric\", function () {\r",
							"    const res = pm.response.json();\r",
							"    const num = Number(res.price);\r",
							"    pm.expect(isNaN(num)).to.eql(false);\r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\"Updated stock boolean\", function () {\r",
							"    const res = pm.response.json();\r",
							"    pm.expect(typeof res.stock).to.eql(\"boolean\");\r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\"Updated productName not empty\", function () {\r",
							"    const res = pm.response.json();\r",
							"    pm.expect(res.productName.length).to.be.above(0);\r",
							"});\r",
							"\r",
							"pm.test(\"Updated category is string\", function () {\r",
							"    const res = pm.response.json();\r",
							"    pm.expect(res.category).to.be.a(\"string\");\r",
							"});\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "password123",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "PUT",
				"header": [
					{
						"key": "x-mock-response-name",
						"value": "",
						"type": "text"
					},
					{
						"key": "",
						"value": "PUT Product-Suceess",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": " {\r\n        \"productName\": \"T-Shirt\",\r\n        \"price\": \"1770.00\",\r\n        \"stock\": true,\r\n        \"category\": \"Clothing\",\r\n        \"id\": \"2\"\r\n    }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://692abead7615a15ff24d8f1f.mockapi.io/skasc/api/Flipkart/2",
					"protocol": "https",
					"host": [
						"692abead7615a15ff24d8f1f",
						"mockapi",
						"io"
					],
					"path": [
						"skasc",
						"api",
						"Flipkart",
						"2"
					]
				}
			},
			"response": []
		},
		{
			"name": "UpdatePartial",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"\r",
							"pm.test(\"Response time is under 1000ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\"Response is a product object\", function () {\r",
							"    const json = pm.response.json();\r",
							"    pm.expect(json).to.be.an(\"object\");\r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\"Patched product still has required keys\", function () {\r",
							"    const json = pm.response.json();\r",
							"    [\"productName\", \"price\", \"stock\", \"category\", \"id\"].forEach(k => {\r",
							"        pm.expect(json).to.have.property(k);\r",
							"    });\r",
							"});\r",
							"\r",
							"pm.test(\"stock field updated correctly\", function () {\r",
							"    const res = pm.response.json();\r",
							"    \r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\"Product id remains same after PATCH\", function () {\r",
							"    const res = pm.response.json();\r",
							"    const urlId = pm.request.url.path[pm.request.url.path.length - 1];\r",
							"    pm.expect(res.id).to.eql(urlId);\r",
							"});\r",
							"\r",
							"pm.test(\"price still numeric after PATCH\", function () {\r",
							"    const res = pm.response.json();\r",
							"    const num = Number(res.price);\r",
							"    pm.expect(isNaN(num)).to.eql(false);\r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\"productName still a string\", function () {\r",
							"    const res = pm.response.json();\r",
							"    pm.expect(res.productName).to.be.a(\"string\");\r",
							"});\r",
							"\r",
							"pm.test(\"category still a string\", function () {\r",
							"    const res = pm.response.json();\r",
							"    pm.expect(res.category).to.be.a(\"string\");\r",
							"});\r",
							"pm.test(\"At least one field changed (PATCH)\", function () {\r",
							" \r",
							"    const res = pm.response.json();\r",
							"    pm.expect(Object.keys(res).length).to.be.above(0);\r",
							"});\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "password123",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "PATCH",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": " {\r\n        \"productName\": \"Shirt\",\r\n        \"price\": \"1770.49\",\r\n        \"stock\": true,\r\n        \"category\": \"Jewelry\",\r\n        \"id\": \"2\"\r\n    }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://692abead7615a15ff24d8f1f.mockapi.io/skasc/api/Flipkart/2",
					"protocol": "https",
					"host": [
						"692abead7615a15ff24d8f1f",
						"mockapi",
						"io"
					],
					"path": [
						"skasc",
						"api",
						"Flipkart",
						"2"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"\r",
							"pm.test(\"Response time is under 1000ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
							"});\r",
							"r\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "https://692abead7615a15ff24d8f1f.mockapi.io/skasc/api/Flipkart/",
					"protocol": "https",
					"host": [
						"692abead7615a15ff24d8f1f",
						"mockapi",
						"io"
					],
					"path": [
						"skasc",
						"api",
						"Flipkart",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "GetById",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"//  Status code is 200 (Server responding correctly)",
							"pm.test(\"Status code is 200\", () => {",
							"    pm.response.to.have.status(200);",
							"});",
							"//  Response should not contain Body (HEAD returns only headers)",
							"pm.test(\"Response has no body\", () => {",
							"    pm.expect(pm.response.text().length).to.eql(0);",
							"});",
							"//Content-Type header must exist (Server sending proper response format)",
							"pm.test(\"Content-Type header exists\", () => {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"});",
							"// Server header should be present (Server information available)",
							"pm.test(\"Server header exists\", () => {",
							"    pm.response.to.have.header(\"Server\");",
							"});",
							"",
							"//  Method check (should be HEAD request)",
							"pm.test(\"Request method is HEAD\", () => {",
							"    pm.expect(pm.request.method).to.eql(\"HEAD\");",
							"});",
							"",
							"//  Check Content-Length header exists",
							"pm.test(\"Content-Length header exists\", () => {",
							"    pm.response.to.have.header(\"Content-Length\");",
							"});",
							"",
							"//  Content-Length value must be a number",
							"pm.test(\"Content-Length is numeric\", () => {",
							"    const len = pm.response.headers.get(\"Content-Length\");",
							"    pm.expect(isNaN(Number(len))).to.eql(false);",
							"});",
							"",
							"//  Check if status code is not 404 (Resource should exist)",
							"pm.test(\"Resource exists, not 404\", () => {",
							"    pm.expect(pm.response.code).to.not.eql(404);",
							"});",
							"",
							"//  Response time must be fast (< 800ms)",
							"pm.test(\"Response time is under 800ms\", () => {",
							"    pm.expect(pm.response.responseTime).to.be.below(800);",
							"});",
							"",
							"// Check CORS: Access-Control-Allow-Origin exists",
							"pm.test(\"CORS header present\", () => {",
							"    pm.response.to.have.header(\"Access-Control-Allow-Origin\");",
							"});",
							"",
							"",
							"//  Content-Length should not be zero (There must be some content)",
							"pm.test(\"Content-Length is not zero\", () => {",
							"    const len = Number(pm.response.headers.get(\"Content-Length\"));",
							"    pm.expect(len).to.be.above(0);",
							"});",
							"",
							"//  Verify response has ANY headers present",
							"pm.test(\"Response contains headers\", () => {",
							"    pm.expect(pm.response.headers.all().length).to.be.above(0);",
							"});",
							"",
							"//  Check Access-Control-Allow-Origin is '*'",
							"pm.test(\"CORS allow origin is '*'\", () => {",
							"    pm.expect(pm.response.headers.get(\"Access-Control-Allow-Origin\")).to.eql(\"*\");",
							"});",
							"",
							"//  Check response Content-Type contains json keyword",
							"pm.test(\"Content-Type includes json\", () => {",
							"    const ct = pm.response.headers.get(\"Content-Type\");",
							"    pm.expect(ct.toLowerCase()).to.include(\"json\");",
							"});",
							"",
							"",
							"//  Check server returns allowed HTTP methods for CORS",
							"pm.test(\"Allowed methods listed in CORS\", () => {",
							"    pm.expect(pm.response.headers.get(\"Access-Control-Allow-Methods\")).to.exist;",
							"});",
							"",
							"//  Request URL starts with HTTPS",
							"pm.test(\"Request is HTTPS secured\", () => {",
							"    pm.expect(pm.request.url.protocol).to.eql(\"https\");",
							"});",
							"",
							"//  Response status belongs to 2xx success codes",
							"pm.test(\"Response status code is success (2xx)\", () => {",
							"    pm.expect(pm.response.code).to.be.within(200, 299);",
							"});",
							"",
							"//  Validate header key names are case-insensitive",
							"pm.test(\"Header key is case-insensitive\", () => {",
							"    const key1 = pm.response.headers.get(\"server\");",
							"    const key2 = pm.response.headers.get(\"Server\");",
							"    pm.expect(key1 || key2).to.exist;",
							"});",
							"",
							"//  Verify response does not contain JSON body text",
							"pm.test(\"HEAD does not return JSON body\", () => {",
							"    let body = pm.response.text();",
							"    pm.expect(body.trim()).to.eql(\"\");",
							"});",
							"",
							"//  Check that Content-Type doesnâ€™t indicate HTML",
							"pm.test(\"Content-Type does not contain html\", () => {",
							"    const ct = pm.response.headers.get(\"Content-Type\");",
							"    pm.expect(ct.toLowerCase()).to.not.include(\"html\");",
							"});",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{url}}/skasc/api/Flipkart",
					"host": [
						"{{url}}"
					],
					"path": [
						"skasc",
						"api",
						"Flipkart"
					]
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "createdProductId",
			"value": ""
		},
		{
			"key": "deletedProductId",
			"value": ""
		}
	]
}